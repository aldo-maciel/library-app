(this["webpackJsonplibrary-app"]=this["webpackJsonplibrary-app"]||[]).push([[0],{53:function(e,t,a){e.exports=a(89)},59:function(e,t,a){},89:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(22),o=a.n(s),c=a(12),i=a(27),l=a.n(i),m=a(19);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(59),a(60);var u=a(2),h=a(3),d=a(6),E=a(5),p=a(15),v=new(function(){function e(){Object(u.a)(this,e),this.NENHUM_REGISTRO_ENCONTRADO="Nenhum registro encontrado!",this.CONFIRMAR="Confirmar",this.NAO="N\xe3o",this.SIM="Sim",this.SALVAR="Salvar",this.CANCEL="Cancelar",this.CLOSE="Fechar",this.MANDATORY="Obrigat\xf3rio: ( * )",this.DELETAR_REGISTRO="Deletar registro",this.EDITAR_REGISTRO="Editar registro",this.BOOK_AUTHOR="Autor",this.BOOK_NAME="Nome",this.BOOK_DESCRIPTION="Descri\xe7\xe3o",this.BOOK_COVER="Capa",this.BOOK_ACTIONS="A\xe7\xe3o",this.BOOK_TITLE="Livros",this.BOOK_ADD_NEW="Adicionar",this.BOOK_PLACEHOLDER_NAME="Nome do livro...",this.BOOK_PLACEHOLDER_AUTHOR="Nome do autor...",this.BOOK_PLACEHOLDER_DESCRIPTION="Descri\xe7\xe3o do livro...",this.BOOK_SELECT="Selecione",this.BOOK_DELETE_CONFIRM="Voc\xea deseja realmente deletar o livro {{ param }}?",this.BOOK_REGISTER_TITLE="Cadastrar",this.BOOK_EVALUATION="Avalia\xe7\xf5es",this.HEADER_TITLE="Biblioteca",this.HEADER_BOOKS="Livros",this.PAGINATE_PRIMEIRA="Primeira",this.PAGINATE_ANTERIOR="Anterior",this.PAGINATE_PROXIMA="Pr\xf3xima",this.PAGINATE_ULTIMA="\xdaltima",this.PAGINATE_MOSTRANDO="Mostrando",this.PAGINATE_DE="de",this.PAGINATE_ATE="at\xe9",this.USER_LOGIN="Login",this.USER_NAME="Nome",this.USER_ADMIN="Administrador",this.USER_PLACEHOLDER_NAME="Digite o nome...",this.USER_PLACEHOLDER_LOGIN="Digite o login...",this.USER_PASSWORD="Senha",this.USER_CONFIRM_PASSWORD="Confirmar senha",this.USER_LOGIN_PLACEHOLDER="Digite seu usu\xe1rio...",this.USER_LOGIN_BTN="Entrar",this.USER_REGISTER="Cadastre-se",this.USER_PASSWORD_PLACEHOLDER="Digite sua senha...",this.USER_CONFIRM_PASSWORD_PLACEHOLDER="Confirme sua senha...",this.ERROR_MESSAGE="Ocorreu um erro na requisi\xe7\xe3o!",this.ERROR_TITLE="Erro",this.SUCCESS_MESSAGE="Opera\xe7\xe3o realizada com sucesso!",this.SUCCESS_TITLE="Sucesso",Object.freeze(this)}return Object(h.a)(e,[{key:"getMessageWithParam",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e.replace("{{ param }}",t)}}]),e}()),f=function(){function e(){Object(u.a)(this,e)}return Object(h.a)(e,null,[{key:"noop",value:function(){}},{key:"getActionsIcons",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.noop;return r.a.createElement("div",{className:"d-inline-flex justify-content-around flex-wrap"},r.a.createElement(p.a,{to:"/livros/".concat(e._id),className:"btn btn-link text-light",title:v.EDITAR_REGISTRO},r.a.createElement("em",{className:"eva eva-edit eva-2x"})),r.a.createElement("button",{className:"btn btn-link text-light",title:v.DELETAR_REGISTRO,onClick:function(){return t(e)}},r.a.createElement("em",{className:"eva eva-trash eva-2x"})))}}]),e}(),b=a(7),g=a.n(b),O=a(10),N=a(45),R=a.n(N),k=a(17),S=a.n(k),A=function(){function e(){Object(u.a)(this,e)}return Object(h.a)(e,[{key:"findAll",value:function(t,a){return t.filter.text!==a&&(t.start=0),t.filter={text:a},S.a.get(e.URL,{params:t})}},{key:"findById",value:function(t){return S.a.get("".concat(e.URL,"/").concat(t))}},{key:"removeBook",value:function(t){return S.a.delete("".concat(e.URL,"/").concat(t))}},{key:"create",value:function(t){return S.a.post(e.URL,t)}},{key:"update",value:function(t,a){return S.a.put("".concat(e.URL,"/").concat(t),a)}}],[{key:"URL",get:function(){return"/api/books"}}]),e}(),y=a(30),_=a.n(y),C=function(){return _.a.success(v.SUCCESS_MESSAGE,v.SUCCESS_TITLE)},w=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";console.error(e),_.a.error(t||e.message||v.ERROR_MESSAGE,v.ERROR_TITLE)},L=new(function(){function e(){Object(u.a)(this,e)}return Object(h.a)(e,[{key:"create",value:function(){var t=Object(O.a)(g.a.mark((function t(a){var n,r;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S.a.post(e.URL,a);case 2:if(n=t.sent,r=n.data){t.next=6;break}throw new Error;case 6:localStorage.setItem("user",JSON.stringify(r));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"login",value:function(){var t=Object(O.a)(g.a.mark((function t(a){var n,r;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S.a.get(e.URL,{params:a});case 2:if(n=t.sent,r=n.data){t.next=6;break}throw new Error;case 6:localStorage.setItem("user",JSON.stringify(r));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"logout",value:function(){localStorage.removeItem("user")}},{key:"isLogged",value:function(){return!!localStorage.getItem("user")}},{key:"getUser",value:function(){return Object.assign({},JSON.parse(localStorage.getItem("user")))}}],[{key:"URL",get:function(){return"/api/users"}}]),e}()),x=function(e){Object(d.a)(a,e);var t=Object(E.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).pagination=void 0,e.service=new A,e.totalRecords=0,e.state={rows:Array(),redirectLogin:!L.isLogged()||!L.getUser().admin},e}return Object(h.a)(a,[{key:"find",value:function(){var e=Object(O.a)(g.a.mark((function e(t){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.service.findAll(this.pagination,t);case 3:a=e.sent,this.totalRecords=a.data.count,this.setState({rows:a.data.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),w(e.t0);case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_doRequest",value:function(){var e=Object(O.a)(g.a.mark((function e(t,a){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t(a);case 3:this.find(""),C(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),w(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"onChangePaginate",value:function(e){this.pagination=e,this.find("")}},{key:"_confirm",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:v.CONFIRMAR;return R.a.fire({title:t,text:e,icon:"warning",showCancelButton:!0,confirmButtonText:v.SIM,cancelButtonText:v.NAO})}},{key:"removeBook",value:function(e){var t=this;this._confirm(v.getMessageWithParam(v.BOOK_DELETE_CONFIRM,e.name)).then((function(a){a.value&&t._doRequest(t.service.removeBook,e._id)}))}}]),a}(r.a.Component),j=function(e){Object(d.a)(a,e);var t=Object(E.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"getInfo",value:function(){var e=this.props.totalRecords>0?(this.pagination.start||0)+1:0,t=this.pagination.start+this.props.step>this.props.totalRecords?this.props.totalRecords:this.pagination.start+this.props.step;return r.a.createElement("div",{className:"mt-auto"},v.PAGINATE_MOSTRANDO," ",e," ",v.PAGINATE_ATE," ",t," ",v.PAGINATE_DE," ",this.props.totalRecords)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"d-flex justify-content-between"},this.getInfo(),r.a.createElement("div",null,r.a.createElement("button",{disabled:this.pagination.start<this.props.step,onClick:function(){return e.paginate(0)},className:"btn btn-link",title:v.PAGINATE_PRIMEIRA},r.a.createElement("em",{className:"eva eva-arrowhead-left eva-2x"})),r.a.createElement("button",{disabled:this.pagination.start<this.props.step,onClick:function(){return e.paginate(2)},className:"btn btn-link",title:v.PAGINATE_ANTERIOR},r.a.createElement("em",{className:"eva eva-chevron-left eva-3x"})),r.a.createElement("button",{disabled:this.props.totalRecords<=this.props.step+this.pagination.start,onClick:function(){return e.paginate(1)},className:"btn btn-link",title:v.PAGINATE_PROXIMA},r.a.createElement("em",{className:"eva eva-chevron-right-outline eva-3x"})),r.a.createElement("button",{disabled:this.props.totalRecords<=this.props.step+this.pagination.start,onClick:function(){return e.paginate(3)},className:"btn btn-link",title:v.PAGINATE_ULTIMA},r.a.createElement("em",{className:"eva eva-arrowhead-right eva-2x"}))))}}]),a}(function(e){Object(d.a)(a,e);var t=Object(E.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).pagination={start:0,step:e.props.step,filter:""},e}return Object(h.a)(a,[{key:"componentDidMount",value:function(){this.callSearch()}},{key:"callSearch",value:function(){this.props.onChange(this.pagination)}},{key:"paginate",value:function(e){switch(e){case 1:if(this.pagination.start+this.props.step>this.props.totalRecords)return;this.pagination.start+=this.props.step;break;case 2:if(this.pagination.start<=0)return;this.pagination.start-=this.props.step;break;case 3:this.pagination.start=Math.ceil(this.props.totalRecords/this.props.step)*this.props.step,this.pagination.start>=this.props.totalRecords&&(this.pagination.start-=this.props.step);break;default:this.pagination.start=0}this.callSearch()}}]),a}(r.a.Component)),I=function(e){Object(d.a)(a,e);var t=Object(E.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){return r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark"},r.a.createElement(p.a,{to:"/home",className:"navbar-brand"},v.HEADER_TITLE),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Alterna navega\xe7\xe3o"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarNav"},r.a.createElement("ul",{className:"navbar-nav mr-auto"},r.a.createElement("li",{className:"nav-item",hidden:!L.getUser().admin},r.a.createElement(p.a,{className:"nav-link",to:"/livros"},v.HEADER_BOOKS))),r.a.createElement("span",{className:"navbar-text"},r.a.createElement("span",{className:"mr-sm-2"},L.getUser().name),r.a.createElement(p.a,{className:"my-2 my-sm-0",to:"/",onClick:function(){return L.logout()}},r.a.createElement("em",{className:"eva eva-log-out-outline eva-lg"})))))}}]),a}(r.a.Component),T=function(e){Object(d.a)(a,e);var t=Object(E.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){var e=this;return this.state.redirectLogin?r.a.createElement(m.a,{to:"/"}):r.a.createElement("div",null,r.a.createElement(I,null),r.a.createElement("div",{className:"main-body book"},r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"card bg-dark"},r.a.createElement("div",{className:"card-header"},r.a.createElement("h3",null,v.BOOK_TITLE)),r.a.createElement("div",{className:"card-body"},r.a.createElement(p.a,{className:"btn btn-success btn-sm d-inline-flex align-items-center",to:"/livros/cadastrar"},r.a.createElement("em",{className:"eva eva-plus-outline eva-2x"}),r.a.createElement("span",null,v.BOOK_ADD_NEW)),r.a.createElement("table",{className:"table table-hover table-striped table-striped table-borderless table-dark"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{className:"text-center"},v.BOOK_COVER),r.a.createElement("th",{className:"text-center"},v.BOOK_NAME),r.a.createElement("th",{className:"text-center"},v.BOOK_AUTHOR),r.a.createElement("th",{className:"text-center"},v.BOOK_DESCRIPTION),r.a.createElement("th",{className:"text-center"},v.BOOK_ACTIONS))),r.a.createElement("tbody",null,this.state.rows.map((function(t){return r.a.createElement("tr",{key:t._id},r.a.createElement("td",{className:"text-center"},r.a.createElement("div",{className:"cover"},r.a.createElement("img",{className:"cover-img",src:t.cover.base64,alt:v.BOOK_COVER}))),r.a.createElement("td",{className:"text-center"},t.name),r.a.createElement("td",{className:"text-center"},t.author," "),r.a.createElement("td",{className:"text-center",title:t.description},r.a.createElement("div",{className:"description"},t.description.substring(0,250))),r.a.createElement("td",{className:"text-center"},f.getActionsIcons(t,e.removeBook.bind(e))))})),0===this.state.rows.length&&r.a.createElement("tr",{className:"no-hover"},r.a.createElement("td",{colSpan:5},v.NENHUM_REGISTRO_ENCONTRADO))),r.a.createElement("tfoot",null,r.a.createElement("tr",{className:"no-hover"},r.a.createElement("td",{colSpan:5},r.a.createElement(j,{onChange:function(t){return e.onChangePaginate(t)},step:10,totalRecords:this.totalRecords}))))))))))}}]),a}(x),D=function(e,t){var a;return function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return new Promise((function(n){a&&clearTimeout(a),a=setTimeout((function(){return n(e.apply(void 0,r))}),t)}))}},P=function(e){Object(d.a)(a,e);var t=Object(E.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).service=new A,e.state={record:{},redirect:!1,redirectLogin:!L.isLogged()||!L.getUser().admin},e._id=e.props.match.params.id,e}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=this;this._id&&this.service.findById(this._id).then((function(t){var a=t.data;e.setState({record:a})}),(function(){e.setState({redirect:!0})}))}},{key:"save",value:function(){var e=Object(O.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),e.prev=1,!this._id){e.next=7;break}return e.next=5,this.service.update(this._id,this.state.record);case 5:e.next=9;break;case 7:return e.next=9,this.service.create(this.state.record);case 9:C(),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),w(e.t0);case 15:return e.prev=15,this.setState({redirect:!0}),e.finish(15);case 18:case"end":return e.stop()}}),e,this,[[1,12,15,18]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onChangeName",value:function(e){this.setState({record:Object.assign(this.state.record,{name:e})})}},{key:"getFiles",value:function(e){this.setState({record:Object.assign(this.state.record,{cover:e})})}},{key:"onChangeDescription",value:function(e){this.setState({record:Object.assign(this.state.record,{description:e})})}},{key:"onChangeAuthor",value:function(e){this.setState({record:Object.assign(this.state.record,{author:e})})}}]),a}(r.a.Component),U=a(46),B=a.n(U),M=function(e){Object(d.a)(a,e);var t=Object(E.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"goToGrid",value:function(){if(this.state.redirect)return r.a.createElement(m.a,{to:"/livros"})}},{key:"render",value:function(){var e=this;return this.state.redirectLogin?r.a.createElement(m.a,{to:"/"}):r.a.createElement("div",null,r.a.createElement(I,null),r.a.createElement("div",{className:"main-body book"},this.goToGrid(),r.a.createElement("div",{className:"container-fluid"},r.a.createElement("form",{onSubmit:function(t){return e.save(t)},onReset:function(){return D((function(){return e.setState({redirect:!0})}),500)()}},r.a.createElement("div",{className:"card bg-dark"},r.a.createElement("div",{className:"card-header"},r.a.createElement("h4",null,v.BOOK_REGISTER_TITLE)),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"col-lg-6 offset-lg-3 col-sm-12 offset-sm-0 form-group"},r.a.createElement("label",{htmlFor:"bookName",className:"col-form-label"},v.BOOK_NAME,"*"),r.a.createElement("input",{type:"text",className:"form-control",id:"bookName",placeholder:v.BOOK_PLACEHOLDER_NAME,maxLength:100,required:!0,value:this.state.record.name||"",onChange:function(t){return e.onChangeName(t.target.value)}})),r.a.createElement("div",{className:"col-lg-6 offset-lg-3 col-sm-12 offset-sm-0 form-group"},r.a.createElement("label",{htmlFor:"bookAuthor",className:" col-form-label"},v.BOOK_AUTHOR),r.a.createElement("input",{type:"text",className:"form-control",id:"bookAuthor",placeholder:v.BOOK_PLACEHOLDER_AUTHOR,maxLength:40,value:this.state.record.author||"",onChange:function(t){return e.onChangeAuthor(t.target.value)}})),r.a.createElement("div",{className:"col-lg-6 offset-lg-3 col-sm-12 offset-sm-0 form-group"},r.a.createElement("label",{htmlFor:"bookDescription",className:" col-form-label"},v.BOOK_DESCRIPTION),r.a.createElement("textarea",{className:"form-control",id:"bookDescription",maxLength:4e3,placeholder:v.BOOK_PLACEHOLDER_DESCRIPTION,value:this.state.record.description||"",onChange:function(t){return e.onChangeDescription(t.target.value)},rows:10})),r.a.createElement("div",{className:"col-lg-6 offset-lg-3 col-sm-12 offset-sm-0 form-group"},r.a.createElement("label",{htmlFor:"bookCover",className:" col-form-label"},v.BOOK_COVER,r.a.createElement("small",null,"(Max. 3mb)")),r.a.createElement("div",{className:"card",hidden:!this.state.record.cover},r.a.createElement("img",{className:"cover-preview",src:(this.state.record.cover||{}).base64||"",alt:v.BOOK_COVER})),r.a.createElement(B.a,{labelText:"",callbackFunction:this.getFiles.bind(this),accept:"image/png",multiple:!1,imagePreview:!1,buttonComponent:r.a.createElement("button",{type:"button",className:"btn btn-primary btn-sm"},v.BOOK_SELECT)})),r.a.createElement("small",{className:"text-danger"},v.MANDATORY)),r.a.createElement("div",{className:"card-footer"},r.a.createElement("div",{className:"pull-right"},r.a.createElement("button",{className:"btn btn-success btn-sm",type:"submit"},v.SALVAR),r.a.createElement("button",{className:"btn btn-dark btn-sm",type:"reset"},v.CANCEL))))))))}}]),a}(P),G=function(e){Object(d.a)(a,e);var t=Object(E.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).service=new A,e.pagination={start:0,step:20,filter:""},e.state={rows:Array(),redirectLogin:!L.isLogged()},e}return Object(h.a)(a,[{key:"componentDidMount",value:function(){this.find("")}},{key:"find",value:function(){var e=Object(O.a)(g.a.mark((function e(t){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.service.findAll(this.pagination,t);case 3:a=e.sent,this.setState({rows:a.data.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),w(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}]),a}(r.a.Component),K=a(31),H=a.n(K),F=a(91),W=function(){function e(){Object(u.a)(this,e)}return Object(h.a)(e,[{key:"evaluate",value:function(t,a){return S.a.post("".concat(e.URL,"/").concat(t),{rating:a})}}],[{key:"URL",get:function(){return"/api/books-evaluation"}}]),e}(),V=function(e){Object(d.a)(a,e);var t=Object(E.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"modalEvaluations",value:function(){var e=this;if(this.state.admin)return r.a.createElement(F.a,{show:this.state.showEvaluations,centered:!0,onHide:function(){return e.setState({showEvaluations:!1})}},r.a.createElement(F.a.Header,{className:"bg-dark"},r.a.createElement("div",{className:"d-flex justify-content-between flex-grow-1 align-items-center"},r.a.createElement("h3",null,v.BOOK_EVALUATION),r.a.createElement("button",{type:"button",className:"btn btn-link btn-sm",onClick:function(t){t.stopPropagation(),e.setState({showEvaluations:!1})}},r.a.createElement("em",{className:"eva eva-close-circle-outline eva-2x text-muted"})))),r.a.createElement(F.a.Body,{className:"bg-dark"},(this.props.book.evaluations||[]).map((function(e){return r.a.createElement("div",{className:"row",key:e._id},r.a.createElement("div",{className:"col-6"},e.user.name),r.a.createElement("div",{className:"col-6"},r.a.createElement(H.a,{rating:e.rating,starRatedColor:"rgb(237, 242, 94)",starSpacing:".2rem",starDimension:"2rem",numberOfStars:5,name:"rated"})))}))),r.a.createElement(F.a.Footer,{className:"bg-dark"},r.a.createElement("button",{type:"button",className:"btn btn-dark btn-sm",onClick:function(t){t.stopPropagation(),e.setState({showEvaluations:!1})}},v.CLOSE)))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{onClick:function(){return e.setState({showModal:!0})},className:"".concat(this.props.className," book-evaluation")},this.props.children,this.modalEvaluations(),r.a.createElement(F.a,{show:this.state.showModal,centered:!0,dialogClassName:"modal-90w"},r.a.createElement(F.a.Header,{className:"bg-dark"},r.a.createElement("div",{className:"d-flex justify-content-between flex-grow-1 align-items-center"},r.a.createElement("div",null,r.a.createElement("h3",null,this.props.book.name),r.a.createElement("h6",null,this.props.book.author)),r.a.createElement("button",{className:"btn btn-link btn-sm",onClick:function(t){t.stopPropagation(),e.close()}},r.a.createElement("em",{className:"eva eva-close-circle-outline eva-2x text-muted"})))),r.a.createElement(F.a.Body,{className:"bg-dark"},r.a.createElement("div",{className:"d-flex justify-content-end"},r.a.createElement("button",{type:"button",className:"btn btn-link text-light",hidden:!this.state.admin,onClick:function(){return e.setState({showEvaluations:!0})}},r.a.createElement("h5",{className:"m-auto"},r.a.createElement("span",{className:"badge badge-light font-weight-bolder"},this.state.evaluations),r.a.createElement("span",{className:"sr-only"},"unread messages"),r.a.createElement("span",null," ",v.BOOK_EVALUATION))),r.a.createElement(H.a,{rating:this.state.rating,starRatedColor:"rgb(237, 242, 94)",starHoverColor:"rgba(237, 242, 94, .5)",starSpacing:".3rem",starDimension:"3rem",changeRating:this.changeRating.bind(this),numberOfStars:5,name:"rating"})),r.a.createElement("div",{className:"book-evaluation-container"},r.a.createElement("div",{className:"book-evaluation-container-left"},r.a.createElement("img",{className:"book-evaluation-cover",src:this.props.book.cover.base64,alt:v.BOOK_COVER})),r.a.createElement("div",{className:"book-evaluation-container-right"},r.a.createElement("h5",null,v.BOOK_DESCRIPTION),r.a.createElement("div",{className:"book-evaluation-container-right-description"},this.props.book.description)))),r.a.createElement(F.a.Footer,{className:"bg-dark"},r.a.createElement("button",{className:"btn btn-dark btn-sm",onClick:function(t){t.stopPropagation(),e.close()}},v.CLOSE))))}}]),a}(function(e){Object(d.a)(a,e);var t=Object(E.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).service=new W,e.state={showModal:!1,rating:0,evaluations:0,admin:!1,showEvaluations:!1},e}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=L.getUser();e.admin&&this.setState({admin:e.admin,evaluations:(this.props.book.evaluations||[]).length}),this.props.book.evaluation&&this.setState({rating:this.props.book.evaluation.rating})}},{key:"evaluate",value:function(){var e=Object(O.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.service.evaluate(this.props.book._id,t);case 3:C(),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),w(e.t0);case 9:case"end":return e.stop()}}),e,this,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.setState({showModal:!1})}},{key:"open",value:function(){this.setState({showModal:!0})}},{key:"changeRating",value:function(e){this.setState({rating:e}),this.evaluate(e)}}]),a}(r.a.Component)),q=function(e){Object(d.a)(a,e);var t=Object(E.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){return this.state.redirectLogin?r.a.createElement(m.a,{to:"/"}):r.a.createElement("div",null,r.a.createElement(I,null),r.a.createElement("div",{className:"main-body"},r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"home-page"},this.state.rows.map((function(e){return r.a.createElement("div",{className:"col-md-12 col-lg-6 col-xl-4 col-sm-12",key:e._id},r.a.createElement(V,{book:e,className:"home-page-card bg-dark"},r.a.createElement("div",{className:"home-page-card-img"},r.a.createElement("img",{className:"home-page-card-cover",src:e.cover.base64,alt:v.BOOK_COVER}),r.a.createElement("div",{className:"home-page-card-author"},r.a.createElement("small",null,e.author))),r.a.createElement("div",{className:"home-page-card-text"},r.a.createElement("div",{className:"home-page-card-name"},e.name),r.a.createElement("div",{className:"home-page-card-description text-muted"},e.description))))}))))))}}]),a}(G),J=function(e){Object(d.a)(a,e);var t=Object(E.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={record:{},redirect:!1,error:!1},e}return Object(h.a)(a,[{key:"login",value:function(){var e=Object(O.a)(g.a.mark((function e(t){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,L.login(this.state.record);case 4:this.setState({redirect:!0}),e.next=12;break;case 7:e.prev=7,e.t0=e.catch(1),this.setState({error:!0}),a=e.t0.response,w(e.t0,a.data);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"clear",value:function(){this.setState({record:{}})}},{key:"onChangeLogin",value:function(e){this.setState({record:Object.assign(this.state.record,{login:e})})}},{key:"onChangePassword",value:function(e){this.setState({record:Object.assign(this.state.record,{password:e})})}}]),a}(r.a.Component),Y=function(e){Object(d.a)(a,e);var t=Object(E.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("button",{type:"button",onClick:function(){return e.setState({showModal:!0})},className:"btn btn-link"},v.USER_REGISTER,r.a.createElement(F.a,{show:this.state.showModal,centered:!0,dialogClassName:"modal-lg"},r.a.createElement("form",{onSubmit:function(t){return e.save(t)},onReset:function(){return e.close()}},r.a.createElement(F.a.Header,{className:"bg-dark"},r.a.createElement("div",{className:"d-flex justify-content-between flex-grow-1 align-items-center"},r.a.createElement("h5",null,v.USER_REGISTER),r.a.createElement("button",{type:"button",className:"btn btn-link",onClick:function(t){t.stopPropagation(),e.close()}},r.a.createElement("em",{className:"eva eva-close-circle-outline eva-2x text-muted"})))),r.a.createElement(F.a.Body,{className:"bg-dark"},r.a.createElement("div",{className:"col-lg-6 offset-lg-3 col-sm-12 offset-sm-0 form-group"},r.a.createElement("label",{htmlFor:"userName",className:"col-form-label"},v.USER_NAME,"*"),r.a.createElement("input",{type:"text",className:"form-control",id:"userName",placeholder:v.USER_PLACEHOLDER_NAME,maxLength:100,required:!0,value:this.state.record.name||"",onChange:function(t){return e.onChangeName(t.target.value)}})),r.a.createElement("div",{className:"col-lg-6 offset-lg-3 col-sm-12 offset-sm-0 form-group"},r.a.createElement("label",{htmlFor:"userLogin",className:"col-form-label"},v.USER_LOGIN,"*"),r.a.createElement("input",{type:"text",className:"form-control",id:"userLogin",placeholder:v.USER_PLACEHOLDER_LOGIN,maxLength:30,required:!0,value:this.state.record.login||"",onChange:function(t){return e.onChangeLogin(t.target.value)}})),r.a.createElement("div",{className:"col-lg-6 offset-lg-3 col-sm-12 offset-sm-0 form-group"},r.a.createElement("label",{htmlFor:"userPassword",className:" col-form-label"},v.USER_PASSWORD,"*"),r.a.createElement("input",{type:"password",className:"form-control",id:"userPassword",required:!0,placeholder:v.USER_PASSWORD_PLACEHOLDER,maxLength:10,value:this.state.record.password||"",onChange:function(t){return e.onChangePassword(t.target.value)}})),r.a.createElement("div",{className:"col-lg-6 offset-lg-3 col-sm-12 offset-sm-0 form-group"},r.a.createElement("label",{htmlFor:"confirmPassword",className:" col-form-label"},v.USER_CONFIRM_PASSWORD,"*"),r.a.createElement("input",{type:"password",className:"form-control",id:"confirmPassword",maxLength:10,placeholder:v.USER_CONFIRM_PASSWORD_PLACEHOLDER,required:!0,onChange:function(t){return e.onChangeConfirmPassword(t.target.value)}})),r.a.createElement("div",{className:"col-lg-6 offset-lg-3 col-sm-12 offset-sm-0 form-group"},r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"userAdmin",onChange:function(t){return e.onChangeAdmin(t.target.checked)},checked:this.state.record.admin}),r.a.createElement("label",{className:"form-check-label pointer",htmlFor:"userAdmin"},v.USER_ADMIN))),r.a.createElement("small",{className:"text-danger"},v.MANDATORY)),r.a.createElement(F.a.Footer,{className:"bg-dark"},r.a.createElement("button",{type:"submit",className:"btn btn-success btn-sm"},v.SALVAR),r.a.createElement("button",{type:"reset",className:"btn btn-dark btn-sm",onClick:function(t){t.stopPropagation(),e.close()}},v.CLOSE)))))}}]),a}(function(e){Object(d.a)(a,e);var t=Object(E.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={showModal:!1,record:{},redirect:!1,errors:{}},e}return Object(h.a)(a,[{key:"save",value:function(){var e=Object(O.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,L.create(this.state.record);case 4:C(),this.props.redirect(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),w(e.t0);case 11:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onChangeName",value:function(e){this.setState({record:Object.assign(this.state.record,{name:e})})}},{key:"onChangeLogin",value:function(e){this.setState({record:Object.assign(this.state.record,{login:e})})}},{key:"onChangeAdmin",value:function(e){this.setState({record:Object.assign(this.state.record,{admin:e})})}},{key:"onChangePassword",value:function(e){this.setState({record:Object.assign(this.state.record,{password:e})})}},{key:"onChangeConfirmPassword",value:function(e){e!==this.state.record.password&&this.setState({errors:Object.assign(this.state.errors,{notConfirmed:!0})})}},{key:"close",value:function(){this.setState({showModal:!1})}},{key:"open",value:function(){this.setState({showModal:!0})}}]),a}(r.a.Component)),z=function(e){Object(d.a)(a,e);var t=Object(E.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"goToHome",value:function(){if(this.state.redirect)return r.a.createElement(m.a,{to:"/home"})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"login"},this.goToHome(),r.a.createElement("div",{className:"login-container"},r.a.createElement("form",{className:"row",onSubmit:function(t){return e.login(t)},onReset:D(this.clear.bind(this),500)},r.a.createElement("div",{className:"col-8 col-sm-10"},r.a.createElement("label",{htmlFor:"loginName",className:"col-form-label"},v.USER_LOGIN),r.a.createElement("input",{type:"text",className:"form-control",id:"loginName",placeholder:v.USER_LOGIN_PLACEHOLDER,maxLength:40,required:!0,value:this.state.record.login||"",onChange:function(t){return e.onChangeLogin(t.target.value)}})),r.a.createElement("div",{className:"col-8 col-sm-10 form-group"},r.a.createElement("label",{htmlFor:"loginPassword",className:" col-form-label"},v.USER_PASSWORD),r.a.createElement("input",{type:"password",className:"form-control",id:"loginPassword",required:!0,placeholder:v.USER_PASSWORD_PLACEHOLDER,maxLength:40,value:this.state.record.password||"",onChange:function(t){return e.onChangePassword(t.target.value)}})),r.a.createElement("div",{className:"col-8 col-sm-10 form-group d-flex justify-content-end flex-wrap"},r.a.createElement("button",{className:"btn btn-success btn-sm form-group",type:"submit"},v.USER_LOGIN_BTN),r.a.createElement("button",{className:"btn btn-dark btn-sm form-group",type:"reset"},v.CANCEL))),r.a.createElement("div",{className:"d-flex justify-content-end w-100"},r.a.createElement(Y,{redirect:function(){return e.setState({redirect:!0})}}))))}}]),a}(J);l.a.locale("pt-br"),o.a.render(r.a.createElement(m.c,{history:Object(c.b)()},r.a.createElement(m.d,null,r.a.createElement(m.b,{path:"/",exact:!0,component:z}),r.a.createElement(m.b,{path:"/home",component:q}),r.a.createElement(m.b,{path:"/livros/cadastrar",component:M}),r.a.createElement(m.b,{path:"/livros/:id",component:M}),r.a.createElement(m.b,{path:"/livros",component:T}),r.a.createElement(m.b,{path:"*",component:function(){return r.a.createElement("h1",{className:"w100 min-vh-100 d-flex justify-content-center align-items-center"},"Page not found")}}))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[53,1,2]]]);
//# sourceMappingURL=main.bbfa4321.chunk.js.map